{"ast":null,"code":"import _regeneratorRuntime from\"/home/ankur12/Desktop/dev/google-classroom-clone-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ankur12/Desktop/dev/google-classroom-clone-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{Form,Button}from'react-bootstrap';import'./login.css';import'bootstrap/dist/css/bootstrap.min.css';import Google from'.././signup/google.png';import{Link}from\"react-router-dom\";import{myaxios,authorize}from'../../connections';import{useAlert}from'react-alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){var setLoggedIn=_ref.setLoggedIn;var alert=useAlert();var onLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var username,password,rememberme,data,options,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();username=document.querySelector(\"#username\").value;password=document.querySelector(\"#password\").value;rememberme=document.querySelector(\"#rememberme\").checked;console.log(rememberme);data={username:username,password:password};options={method:'post',url:'auth/login/',headers:{'Content-Type':'application/json'},data:data};console.log(data);if(!(username&&password)){_context.next=25;break;}_context.prev=9;_context.next=12;return myaxios(options);case 12:res=_context.sent;authorize(res.data.token,setLoggedIn);if(rememberme){localStorage.setItem('token',res.data.token);}console.log(res);_context.next=23;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](9);console.log(_context.t0);console.log(_context.t0.response);if(_context.t0.response.data.non_field_errors[0]===\"Invalid Credentials!\"){alert.show(\"Account does not exists!\");}case 23:_context.next=26;break;case 25:alert.show(\"Please enter the required credentials\");case 26:case\"end\":return _context.stop();}}},_callee,null,[[9,18]]);}));return function onLogin(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"containerdiv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"formdiv\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"formheaders\",style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"h2\",{children:\"Sign in\"})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"UserName: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter UserName\",id:\"username\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",id:\"password\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicCheckbox\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:\"Remember Me\",id:\"rememberme\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Button,{onClick:onLogin,children:\"Sign in\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"200px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginRight:\"5px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{borderBottom:\"1px solid black\",width:\"100%\"}})}),/*#__PURE__*/_jsx(\"h3\",{children:\"OR\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"200px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginLeft:\"5px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{borderBottom:\"1px solid black\",width:\"100%\"}})})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(Button,{variant:\"primary\",children:[/*#__PURE__*/_jsx(\"img\",{src:Google,height:\"20px\",width:\"20px\",style:{marginRight:\"2px\"}}),\"Sign in with Google\"]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\"},children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{textDecoration:\"none\"},children:\"Do not have an account? Sign up\"})})]})})});}","map":{"version":3,"sources":["/home/ankur12/Desktop/dev/google-classroom-clone-frontend/src/components/login/login.js"],"names":["React","Form","Button","Google","Link","myaxios","authorize","useAlert","Login","setLoggedIn","alert","onLogin","e","preventDefault","username","document","querySelector","value","password","rememberme","checked","console","log","data","options","method","url","headers","res","token","localStorage","setItem","response","non_field_errors","show","display","justifyContent","width","alignItems","marginRight","borderBottom","marginLeft","textDecoration"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form, Button } from 'react-bootstrap'\nimport './login.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Google from '.././signup/google.png'\nimport { Link } from \"react-router-dom\";\nimport { myaxios, authorize } from '../../connections'\nimport { useAlert } from 'react-alert'\nexport default function Login({ setLoggedIn }) {\n    const alert = useAlert()\n\n    const onLogin = async function(e) {\n        e.preventDefault()\n        const username = document.querySelector(\"#username\").value\n        const password = document.querySelector(\"#password\").value\n        const rememberme = document.querySelector(\"#rememberme\").checked\n        console.log(rememberme)\n        const data = {\n            username,\n            password\n        }\n\n        const options = {\n            method: 'post',\n            url: 'auth/login/',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            data\n        }\n\n        console.log(data)\n\n        if(username && password) {\n            try {\n                const res = await myaxios(options)\n                authorize(res.data.token, setLoggedIn)\n                if(rememberme) {\n                    localStorage.setItem('token', res.data.token)\n                }\n                console.log(res)\n            } catch(err) {\n                console.log(err)\n                console.log(err.response)\n                if(err.response.data.non_field_errors[0] === \"Invalid Credentials!\") {\n                    alert.show(\"Account does not exists!\")\n                }\n            }\n        } else {\n            alert.show(\"Please enter the required credentials\")\n        }\n    }\n\n    return (\n        <div className=\"containerdiv\">\n            <div className=\"formdiv\">\n                <Form>\n                    <div className=\"formheaders\" style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <h2>Sign in</h2>\n                    </div>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>UserName: </Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter UserName\" id=\"username\" />\n                    </Form.Group>\n                    <br/>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                        <Form.Label>Password: </Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" id=\"password\" />\n                    </Form.Group>\n                    <br/>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n                        <Form.Check type=\"checkbox\" label=\"Remember Me\" id=\"rememberme\" />\n                    </Form.Group>\n                    <br/>\n                    <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <Button onClick={onLogin}>\n                            Sign in\n                        </Button>\n                    </div>\n                    <br/>\n                    <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <div style={{width:\"200px\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\", marginRight:\"5px\"}}>\n                            <div style={{borderBottom:\"1px solid black\", width:\"100%\"}}>\n                            </div>\n                        </div>\n                        <h3>OR</h3>\n                        <div style={{width:\"200px\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\", marginLeft:\"5px\"}}>\n                            <div style={{borderBottom:\"1px solid black\", width:\"100%\"}}>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <Button variant=\"primary\"><img src={Google} height=\"20px\" width=\"20px\" style={{marginRight:\"2px\"}}/>Sign in with Google</Button>\n                    </div>\n                    <br/>\n                    <div style={{display:\"flex\", justifyContent:\"flex-end\"}}>\n                        <Link to=\"/signup\" style={{textDecoration:\"none\"}}>Do not have an account? Sign up</Link>\n                    </div>\n                </Form>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}