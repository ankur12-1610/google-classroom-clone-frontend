{"ast":null,"code":"import _regeneratorRuntime from\"/home/ankur12/Desktop/dev/google-classroom-clone-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ankur12/Desktop/dev/google-classroom-clone-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import{Form,Button}from'react-bootstrap';import'./signup.css';import'bootstrap/dist/css/bootstrap.min.css';import Google from'./google.png';import{Link}from\"react-router-dom\";import{authorize,myaxios}from'../../connections';import{useAlert}from'react-alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(_ref){var setLoggedIn=_ref.setLoggedIn;var alert=useAlert();var onSignup=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var first_name,last_name,username,email,password,cpassword,data,options,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();first_name=document.querySelector(\"#firstname\").value;last_name=document.querySelector(\"#lastname\").value;username=document.querySelector(\"#username\").value;email=document.querySelector(\"#email\").value;password=document.querySelector(\"#password\").value;cpassword=document.querySelector(\"#cpassword\").value;data={first_name:first_name,last_name:last_name,email:email,password:password,username:username};options={method:'post',url:'auth/register/',headers:{'Content-Type':'application/json'},data:data};if(!(first_name&&last_name&&username&&email&&password&&cpassword)){_context.next=30;break;}if(!(password==cpassword)){_context.next=27;break;}_context.prev=11;_context.next=14;return myaxios(options);case 14:res=_context.sent;authorize(res.data.token,setLoggedIn);localStorage.setItem('token',res.data.token);console.log(res);_context.next=25;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](11);console.log(_context.t0);console.log(_context.t0.response);if(_context.t0.response.data.email[0]===\"Email already exists!\"){alert.show(\"An account with this email already exists\");}else{if(_context.t0.response.data.username[0]===\"Username already exists!\"){alert.show(\"This User name is already taken!\");}}case 25:_context.next=28;break;case 27:alert.show(\"Passwords do not match!!\");case 28:_context.next=31;break;case 30:alert.show(\"Please provide the required credentials\");case 31:case\"end\":return _context.stop();}}},_callee,null,[[11,20]]);}));return function onSignup(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"containerdiv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"formdiv\",children:/*#__PURE__*/_jsxs(Form,{id:\"#myform\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"formheaders\",style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"h2\",{children:\"SignUp\"})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter First Name\",id:\"firstname\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Last Name: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Last Name\",id:\"lastname\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email\",id:\"email\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"UserName: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter User Name\",id:\"username\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",id:\"password\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Confirm Password\",id:\"cpassword\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Button,{onClick:onSignup,children:\"Sign Up\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"200px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginRight:\"5px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{borderBottom:\"1px solid black\",width:\"100%\"}})}),/*#__PURE__*/_jsx(\"h3\",{children:\"OR\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"200px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginLeft:\"5px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{borderBottom:\"1px solid black\",width:\"100%\"}})})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(Button,{variant:\"primary\",children:[/*#__PURE__*/_jsx(\"img\",{src:Google,height:\"20px\",width:\"20px\",style:{marginRight:\"2px\"}}),\"Signup with Google\"]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\"},children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{textDecoration:\"none\"},children:\"Already have an account? Login In\"})})]})})});}","map":{"version":3,"sources":["/home/ankur12/Desktop/dev/google-classroom-clone-frontend/src/components/signup/signup.js"],"names":["React","useEffect","Form","Button","Google","Link","authorize","myaxios","useAlert","Signup","setLoggedIn","alert","onSignup","e","preventDefault","first_name","document","querySelector","value","last_name","username","email","password","cpassword","data","options","method","url","headers","res","token","localStorage","setItem","console","log","response","show","display","justifyContent","width","alignItems","marginRight","borderBottom","marginLeft","textDecoration"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Form, Button } from 'react-bootstrap'\nimport './signup.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Google from './google.png'\nimport { Link } from \"react-router-dom\";\nimport {authorize, myaxios} from '../../connections'\nimport { useAlert } from 'react-alert'\nexport default function Signup({ setLoggedIn }) {\n    const alert = useAlert()\n    const onSignup = async function(e) {\n        e.preventDefault()\n        const first_name = document.querySelector(\"#firstname\").value\n        const last_name = document.querySelector(\"#lastname\").value\n        const username = document.querySelector(\"#username\").value\n        const email = document.querySelector(\"#email\").value\n        const password = document.querySelector(\"#password\").value\n        const cpassword = document.querySelector(\"#cpassword\").value\n        const data = {\n            first_name,\n            last_name,\n            email,\n            password,\n            username\n        }\n        \n        const options = {\n            method: 'post',\n            url: 'auth/register/', \n            headers: {\n              'Content-Type': 'application/json'\n            },\n            data\n        }\n        if(first_name && last_name && username && email && password && cpassword) {\n            if(password == cpassword) {\n                try {\n                    const res = await myaxios(options)\n                    authorize(res.data.token, setLoggedIn)\n                    localStorage.setItem('token', res.data.token)\n                    console.log(res)\n                } catch(err) {\n                    console.log(err)\n                    console.log(err.response)\n                    if(err.response.data.email[0] === \"Email already exists!\") {\n                        alert.show(\"An account with this email already exists\")\n                    } else {\n                        if(err.response.data.username[0] === \"Username already exists!\") {\n                            alert.show(\"This User name is already taken!\")\n                        }\n                    }\n                }\n\n            } else {\n                alert.show(\"Passwords do not match!!\")\n            }\n        } else {\n            alert.show(\"Please provide the required credentials\")\n        }        \n\n    }\n\n    return (\n        <div className=\"containerdiv\">\n            <div className=\"formdiv\">\n                <Form id=\"#myform\">\n                    <div className=\"formheaders\" style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <h2>SignUp</h2>\n                    </div>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>First Name: </Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter First Name\" id=\"firstname\" />\n                    </Form.Group>\n                    <br/>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>Last Name: </Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter Last Name\" id=\"lastname\" />\n                    </Form.Group>\n                    <br/>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                        <Form.Label>Email: </Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"Enter Email\" id=\"email\" />\n                    </Form.Group>\n                    <br/>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>UserName: </Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter User Name\" id=\"username\" />\n                    </Form.Group>\n                    <br/>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                        <Form.Label>Password: </Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" id=\"password\" />\n                    </Form.Group>\n                    <br/>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                        <Form.Label>Confirm Password: </Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Confirm Password\" id=\"cpassword\" />\n                    </Form.Group>\n                    <br/>\n                    <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <Button onClick={onSignup}>\n                            Sign Up\n                        </Button>\n                    </div>\n                    <br/>\n                    <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <div style={{width:\"200px\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\", marginRight:\"5px\"}}>\n                            <div style={{borderBottom:\"1px solid black\", width:\"100%\"}}>\n                            </div>\n                        </div>\n                        <h3>OR</h3>\n                        <div style={{width:\"200px\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\", marginLeft:\"5px\"}}>\n                            <div style={{borderBottom:\"1px solid black\", width:\"100%\"}}>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <Button variant=\"primary\"><img src={Google} height=\"20px\" width=\"20px\" style={{marginRight:\"2px\"}}/>Signup with Google</Button>\n                    </div>\n                    <br/>\n                    <div style={{display:\"flex\", justifyContent:\"flex-end\"}}>\n                        <Link to=\"/login\" style={{textDecoration:\"none\"}}>Already have an account? Login In</Link>\n                    </div>\n                </Form>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}